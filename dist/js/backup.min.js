"use strict";var clipTemplateTag=document.querySelector(".clip-template"),galleryContainer=document.querySelector(".gallery__container"),modalTemplateTag=document.querySelector(".modal-template"),modalContainer=document.querySelector(".modal-container"),accordionBtns=document.querySelectorAll(".menu__item--expandable"),accordionInfos=document.querySelectorAll(".accordion__info"),burgerNav=document.querySelector(".nav__burger-nav"),burgerBtn=document.querySelector(".burger-btn"),firstBar=document.querySelector(".burger-btn__bar--one"),secondBar=document.querySelector(".burger-btn__bar--two"),thirdBar=document.querySelector(".burger-btn__bar--three"),loaderBox=document.querySelector(".loader-box"),pageTitle=document.querySelector(".page-title"),body=document.body,URL="https://klajek-10-api.herokuapp.com/clips",handleNav=function(){var e=document.querySelector(".nav__burger-nav");accordionInfos.forEach(function(e){e.classList.remove("active"),e.previousElementSibling.querySelector("svg").classList.remove("rotate")}),e.classList.toggle("active-menu"),document.body.classList.toggle("body-lock"),firstBar.classList.toggle("first-cross"),thirdBar.classList.toggle("third-cross"),secondBar.classList.toggle("second-cross")},closeNavOutsideBox=function(e){e.stopPropagation(),e.target.classList.contains("active-menu")&&(burgerNav.classList.remove("active-menu"),document.body.classList.remove("body-lock"),firstBar.classList.remove("first-cross"),thirdBar.classList.remove("third-cross"),secondBar.classList.remove("second-cross"))};function openAccordionItems(){this.nextElementSibling.classList.toggle("active"),this.querySelector("svg").classList.toggle("rotate")}axios.get(URL).then(function(e){function t(e){function t(e){for(modalContainer.classList.add("hidden"),body.classList.remove("body-lock");e.firstChild;)e.removeChild(e.firstChild)}modalContainer.classList.remove("hidden"),body.classList.add("body-lock");var o,r,n,a=modalTemplateTag.content.cloneNode(!0),c=a.querySelector(".close"),s=a.querySelector(".decision"),i=a.querySelector(".clip-title"),l=a.querySelector(".iframe"),d=a.querySelector(".decision-box"),u=a.querySelector(".decision-img"),m=a.querySelector(".next-btn"),y=a.querySelector(".previous-btn"),b=a.querySelector(".modal__box"),g=a.querySelector(".decision-translation");e=parseInt(e.target.dataset.index),o=p[e].video,r=p[e].decision,n="".concat(v).concat(e+1),b.dataset.index=e,i.textContent=n,l.setAttribute("src",o),u.setAttribute("src",r),u.setAttribute("alt","Decyzja klipu ".concat(n)),S.hasOwnProperty("translation")&&(o=p[e].translation,g.textContent=o),modalContainer.appendChild(a),s.addEventListener("click",function(){d.classList.toggle("hidden")}),c.addEventListener("click",function(){t(modalContainer)}),modalContainer.addEventListener("click",function(e){"modal__container modal-container"!=e.target.classList.value&&"modal"!=e.target.classList.value||t(modalContainer)}),m.addEventListener("click",function(e){var t,o,r,n,a,c,s=parseInt(e.target.closest(".modal__box").dataset.index);-1!==s&&e.target.closest(".modal__box").querySelector(".previous-btn").classList.remove("hidden"),s<q-1?(e=(s=e).target.closest(".modal__box"),t=e.querySelector(".iframe"),o=e.querySelector(".decision-img"),r=e.querySelector(".decision-translation"),n=e.querySelector(".clip-title"),a=parseInt(e.dataset.index),c=p[a+1],a===q-1?(e.dataset.index=a,s.target.closest(".modal__box").querySelector(".next-btn").classList.add("hidden")):(t.setAttribute("src",c.video),o.setAttribute("src",c.decision),S.hasOwnProperty("translation")&&(s=c.translation,r.textContent=s),t=a+1,n.textContent="".concat(v).concat(t+1),e.dataset.index=t)):m.classList.add("hidden")}),y.addEventListener("click",function(e){var t,o,r,n,a,c,s=parseInt(e.target.closest(".modal__box").dataset.index);s===q-1&&e.target.closest(".modal__box").querySelector(".next-btn").classList.remove("hidden"),0===s?y.classList.add("hidden"):(e=(s=e).target.closest(".modal__box"),t=e.querySelector(".iframe"),o=e.querySelector(".decision-img"),r=e.querySelector(".decision-translation"),n=e.querySelector(".clip-title"),a=parseInt(e.dataset.index),c=p[a-1],0===a?s.target.closest(".modal__box").querySelector(".previous-btn").classList.add("hidden"):(t.setAttribute("src",c.video),o.setAttribute("src",c.decision),S.hasOwnProperty("translation")&&(s=c.translation,r.textContent=s),t=a-1,n.textContent="".concat(v).concat(a),e.dataset.index=t))})}var v=body.dataset.symbol,p=e.data[v].content,S=e.data[v],q=p.length,e=(pageTitle.textContent=e.data[v].category,document.title="UEFA RAP - "+e.data[v].category,p.forEach(function(e){var t=clipTemplateTag.content.cloneNode(!0),o=t.querySelector(".clip-item"),r=t.querySelector(".clip-number-span"),n=t.querySelector(".thumbnail"),a=e.id,e=e.thumbnail,c="".concat(v).concat(a+1);o.dataset.index=a,r.textContent=c,n.setAttribute("src",e),n.setAttribute("alt","Klip nr ".concat(c)),galleryContainer.appendChild(t)}),""!=galleryContainer.innerHTML&&(loaderBox.style.display="none"),document.querySelectorAll(".clip-item"));e.forEach(function(e){return e.addEventListener("click",t)})}).catch(function(e){return console.error(e)}),accordionBtns.forEach(function(e){return e.addEventListener("click",openAccordionItems)}),burgerBtn.addEventListener("click",handleNav),burgerNav.addEventListener("click",closeNavOutsideBox);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhY2t1cC5qcyJdLCJuYW1lcyI6WyJjbGlwVGVtcGxhdGVUYWciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnYWxsZXJ5Q29udGFpbmVyIiwibW9kYWxUZW1wbGF0ZVRhZyIsIm1vZGFsQ29udGFpbmVyIiwiYWNjb3JkaW9uQnRucyIsImFjY29yZGlvbkluZm9zIiwiYnVyZ2VyTmF2IiwicXVlcnlTZWxlY3RvckFsbCIsImJ1cmdlckJ0biIsImZpcnN0QmFyIiwic2Vjb25kQmFyIiwidGhpcmRCYXIiLCJsb2FkZXJCb3giLCJwYWdlVGl0bGUiLCJib2R5IiwiaGFuZGxlTmF2IiwiZm9yRWFjaCIsImVsIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidG9nZ2xlIiwiY2xvc2VOYXZPdXRzaWRlQm94IiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsImNvbnRhaW5zIiwidGFyZ2V0Iiwib3BlbkFjY29yZGlvbkl0ZW1zIiwidGhpcyIsIm5leHRFbGVtZW50U2libGluZyIsImF4aW9zIiwiZ2V0IiwiVVJMIiwidGhlbiIsInJlcyIsImFkZCIsInNob3dNb2RhbCIsImNsb3NlTW9kYWwiLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJtb2RhbFRlbXBsYXRlIiwiY2xvc2VCdG4iLCJtb2RhbEJveCIsIm1vZGFsVGl0bGUiLCJpZnJhbWVCb3giLCJjbG9uZU5vZGUiLCJkZWNpc2lvbkJ0biIsImRlY2lzaW9uQm94IiwiZGVjaXNpb25JbWdCb3giLCJwcmV2aW91c0J0biIsIm5leHRCdG4iLCJkZWNpc2lvblRyYW5zbGF0aW9uIiwicHV0RGF0YSIsInBhcnNlSW50IiwiZGF0YXNldCIsImNsaXBOYW1lIiwiYm9keVN5bWJvbCIsImluZGV4IiwiY2xpcElkIiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJ2aWRlbyIsImRhdGFTeW1ib2wiLCJoYXNPd25Qcm9wZXJ0eSIsInRyYW5zbGF0aW9uIiwiZGF0YSIsImRlY2lzaW9uSW1nIiwiY29uY2F0IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlVmlzaWJpbGl0eSIsIm1vZGFsSW5kZXgiLCJpZnJhbWUiLCJ0aXRsZSIsImNsaXBJbmRleCIsIm5leHREYXRhIiwiY2xvc2VzdCIsImFyckxlbmd0aCIsImRlY2lzaW9uIiwibmV3SW5kZXgiLCJuZXh0Q2xpcCIsInByZXZEYXRhIiwic3ltYm9sIiwiY29udGVudCIsImxlbmd0aCIsImNhdGVnb3J5IiwiY2xpcFRlbXBsYXRlIiwiY2xpcEl0ZW0iLCJjbGlwTnVtYmVyU3BhbiIsImNsaXBUaHVtYm5haWwiLCJpZCIsInRodW1ibmFpbCIsImNyZWF0ZVRodW1ibmFpbCIsImlubmVySFRNTCIsInN0eWxlIiwiY2xpcHMiLCJjbGlwIiwiZXJyIiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxnQkFBa0JDLFNBQVNDLGNBQWMsa0JBQzlDQyxpQkFBbUJGLFNBQVNDLGNBQWMsdUJBRDNDRSxpQkFBcUJILFNBQUdBLGNBQVNDLG1CQUFqQ0csZUFDQ0YsU0FBbUJGLGNBQVNDLG9CQUQ3QkksY0FFQ0YsU0FBbUJILGlCQUFTQywyQkFGN0JLLGVBR2VOLFNBQUdBLGlCQUF1QixvQkFIekNPLFVBSUNGLFNBQWdCTCxjQUFTUSxvQkFKMUJDLFVBS0NILFNBQWlCTixjQUFTUSxlQUwzQkUsU0FNQ0gsU0FBWVAsY0FBU0MseUJBTnRCVSxVQU9VWCxTQUFHQSxjQUFTQyx5QkFQdEJXLFNBUVNaLFNBQUdBLGNBQVNDLDJCQVJyQlksVUFTVWIsU0FBR0EsY0FBU0MsZUFUdEJhLFVBVVNkLFNBQUdBLGNBQVNDLGVBVnJCYyxLQVdDRixTQUFZYixLQUVaZSxJQUFJLDRDQUlDQyxVQUFZLFdBQWxCLElBQU1BLEVBQVloQixTQUFaZ0IsY0FBa0Isb0JBRXZCVixlQURlVyxRQUFHakIsU0FBQUEsR0FDbEJNLEVBQUFBLFVBQUFBLE9BQWVXLFVBRWRDLEVBREFBLHVCQUFvQmpCLGNBQXBCLE9BQUFrQixVQUFBQyxPQUFB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QUFBWixJQW9CQXFDLGlCQUFleEIsWUFBQWtCLEtBQ21CLElBQTlCckYsaUJBQWlCNEYsWUFJckJqRixVQUFXa0YsTUFBRy9GLFFBQVNRLFFBRXRCSixTQUFlZSxpQkFBaUIsZUFnSmpDNkUsRUFmQy9FLFFBQUEsU0FBQWdGLEdBQUEsT0FBQUEsRUFBQTNCLGlCQUFBLFFBQUFsQyxPQXhLSCxNQXlMUSxTQUFBOEQsR0FBRyxPQUFJQyxRQUFRQyxNQUFNRixLQUU3QjdGLGNBSndCNEYsUUFBSzNCLFNBQUFBLEdBQUFBLE9BQUFBLEVBQWlCQSxpQkFBU2xDLFFBQW5DVCxzQkFLcEJsQixVQUxFNkQsaUJBQUEsUUFBQXRELFdBQ0FULFVBeExGK0QsaUJBeUxXLFFBQUFoRCIsImZpbGUiOiJiYWNrdXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2xpcFRlbXBsYXRlVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsaXAtdGVtcGxhdGUnKSxcclxuXHRnYWxsZXJ5Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2NvbnRhaW5lcicpLFxyXG5cdG1vZGFsVGVtcGxhdGVUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtdGVtcGxhdGUnKSxcclxuXHRtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250YWluZXInKSxcclxuXHRhY2NvcmRpb25CdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnVfX2l0ZW0tLWV4cGFuZGFibGUnKSxcclxuXHRhY2NvcmRpb25JbmZvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRpb25fX2luZm8nKSxcclxuXHRidXJnZXJOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idXJnZXItbmF2JyksXHJcblx0YnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG4nKSxcclxuXHRmaXJzdEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuX19iYXItLW9uZScpLFxyXG5cdHNlY29uZEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuX19iYXItLXR3bycpLFxyXG5cdHRoaXJkQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG5fX2Jhci0tdGhyZWUnKSxcclxuXHRsb2FkZXJCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLWJveCcpLFxyXG5cdHBhZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLXRpdGxlJyksXHJcblx0Ym9keSA9IGRvY3VtZW50LmJvZHlcclxuXHJcbmNvbnN0IFVSTCA9IGBodHRwczovL2tsYWplay0xMC1hcGkuaGVyb2t1YXBwLmNvbS9jbGlwc2BcclxuXHJcbmNvbnN0IGhhbmRsZU5hdiA9ICgpID0+IHtcclxuXHRjb25zdCBidXJnZXJOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2X19idXJnZXItbmF2JylcclxuXHRhY2NvcmRpb25JbmZvcy5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblx0XHRlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmNsYXNzTGlzdC5yZW1vdmUoJ3JvdGF0ZScpXHJcblx0fSlcclxuXHRidXJnZXJOYXYuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlLW1lbnUnKVxyXG5cdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnYm9keS1sb2NrJylcclxuXHRmaXJzdEJhci5jbGFzc0xpc3QudG9nZ2xlKCdmaXJzdC1jcm9zcycpXHJcblx0dGhpcmRCYXIuY2xhc3NMaXN0LnRvZ2dsZSgndGhpcmQtY3Jvc3MnKVxyXG5cdHNlY29uZEJhci5jbGFzc0xpc3QudG9nZ2xlKCdzZWNvbmQtY3Jvc3MnKVxyXG59XHJcblxyXG5jb25zdCBjbG9zZU5hdk91dHNpZGVCb3ggPSBlID0+IHtcclxuXHRlLnN0b3BQcm9wYWdhdGlvbigpXHJcblx0aWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlLW1lbnUnKSkge1xyXG5cdFx0YnVyZ2VyTmF2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZS1tZW51JylcclxuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnYm9keS1sb2NrJylcclxuXHRcdGZpcnN0QmFyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZpcnN0LWNyb3NzJylcclxuXHRcdHRoaXJkQmFyLmNsYXNzTGlzdC5yZW1vdmUoJ3RoaXJkLWNyb3NzJylcclxuXHRcdHNlY29uZEJhci5jbGFzc0xpc3QucmVtb3ZlKCdzZWNvbmQtY3Jvc3MnKVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gb3BlbkFjY29yZGlvbkl0ZW1zKCkge1xyXG5cdHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpXHJcblx0dGhpcy5xdWVyeVNlbGVjdG9yKCdzdmcnKS5jbGFzc0xpc3QudG9nZ2xlKCdyb3RhdGUnKVxyXG59XHJcbmF4aW9zXHJcblx0LmdldChVUkwpXHJcblx0LnRoZW4ocmVzID0+IHtcclxuXHRcdGNvbnN0IGJvZHlTeW1ib2wgPSBib2R5LmRhdGFzZXQuc3ltYm9sXHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IHJlcy5kYXRhW2JvZHlTeW1ib2xdLmNvbnRlbnRcclxuXHRcdGNvbnN0IGRhdGFTeW1ib2wgPSByZXMuZGF0YVtib2R5U3ltYm9sXVxyXG5cdFx0Y29uc3QgYXJyTGVuZ3RoID0gZGF0YS5sZW5ndGhcclxuXHJcblx0XHRwYWdlVGl0bGUudGV4dENvbnRlbnQgPSByZXMuZGF0YVtib2R5U3ltYm9sXS5jYXRlZ29yeVxyXG5cdFx0ZG9jdW1lbnQudGl0bGUgPSAnVUVGQSBSQVAgLSAnICsgcmVzLmRhdGFbYm9keVN5bWJvbF0uY2F0ZWdvcnlcclxuXHJcblx0XHRjb25zdCBjcmVhdGVUaHVtYm5haWwgPSAoKSA9PiB7XHJcblx0XHRcdGRhdGEuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2xpcFRlbXBsYXRlID0gY2xpcFRlbXBsYXRlVGFnLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpLFxyXG5cdFx0XHRcdFx0Y2xpcEl0ZW0gPSBjbGlwVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsaXAtaXRlbScpLFxyXG5cdFx0XHRcdFx0Y2xpcE51bWJlclNwYW4gPSBjbGlwVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsaXAtbnVtYmVyLXNwYW4nKSxcclxuXHRcdFx0XHRcdGNsaXBUaHVtYm5haWwgPSBjbGlwVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLnRodW1ibmFpbCcpXHJcblxyXG5cdFx0XHRcdGNvbnN0IGlkID0gZWwuaWRcclxuXHRcdFx0XHRjb25zdCB0aHVtYm5haWwgPSBlbC50aHVtYm5haWxcclxuXHRcdFx0XHRjb25zdCBjbGlwTmFtZSA9IGAke2JvZHlTeW1ib2x9JHtpZCArIDF9YFxyXG5cclxuXHRcdFx0XHRjbGlwSXRlbS5kYXRhc2V0LmluZGV4ID0gaWRcclxuXHRcdFx0XHRjbGlwTnVtYmVyU3Bhbi50ZXh0Q29udGVudCA9IGNsaXBOYW1lXHJcblx0XHRcdFx0Y2xpcFRodW1ibmFpbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRodW1ibmFpbClcclxuXHRcdFx0XHRjbGlwVGh1bWJuYWlsLnNldEF0dHJpYnV0ZSgnYWx0JywgYEtsaXAgbnIgJHtjbGlwTmFtZX1gKVxyXG5cclxuXHRcdFx0XHRnYWxsZXJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNsaXBUZW1wbGF0ZSlcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHRjcmVhdGVUaHVtYm5haWwoKVxyXG5cdFx0aWYgKGdhbGxlcnlDb250YWluZXIuaW5uZXJIVE1MICE9ICcnKSB7XHJcblx0XHRcdGxvYWRlckJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgY2xpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xpcC1pdGVtJylcclxuXHRcdGNvbnN0IHNob3dNb2RhbCA9IGUgPT4ge1xyXG5cdFx0XHRtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG5cdFx0XHRib2R5LmNsYXNzTGlzdC5hZGQoJ2JvZHktbG9jaycpXHJcblxyXG5cdFx0XHRjb25zdCBtb2RhbFRlbXBsYXRlID0gbW9kYWxUZW1wbGF0ZVRhZy5jb250ZW50LmNsb25lTm9kZSh0cnVlKSxcclxuXHRcdFx0XHRjbG9zZUJ0biA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsb3NlJyksXHJcblx0XHRcdFx0ZGVjaXNpb25CdG4gPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbicpLFxyXG5cdFx0XHRcdG1vZGFsVGl0bGUgPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5jbGlwLXRpdGxlJyksXHJcblx0XHRcdFx0aWZyYW1lQm94ID0gbW9kYWxUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuaWZyYW1lJyksXHJcblx0XHRcdFx0ZGVjaXNpb25Cb3ggPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbi1ib3gnKSxcclxuXHRcdFx0XHRkZWNpc2lvbkltZ0JveCA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmRlY2lzaW9uLWltZycpLFxyXG5cdFx0XHRcdG5leHRCdG4gPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ0bicpLFxyXG5cdFx0XHRcdHByZXZpb3VzQnRuID0gbW9kYWxUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcucHJldmlvdXMtYnRuJyksXHJcblx0XHRcdFx0bW9kYWxCb3ggPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYm94JyksXHJcblx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbiA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmRlY2lzaW9uLXRyYW5zbGF0aW9uJylcclxuXHJcblx0XHRcdGNvbnN0IHB1dERhdGEgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2xpcElkID0gcGFyc2VJbnQoZS50YXJnZXQuZGF0YXNldC5pbmRleClcclxuXHRcdFx0XHRjb25zdCB2aWRlbyA9IGRhdGFbY2xpcElkXS52aWRlb1xyXG5cdFx0XHRcdGNvbnN0IGRlY2lzaW9uSW1nID0gZGF0YVtjbGlwSWRdLmRlY2lzaW9uXHJcblx0XHRcdFx0Y29uc3QgY2xpcE5hbWUgPSBgJHtib2R5U3ltYm9sfSR7Y2xpcElkICsgMX1gXHJcblxyXG5cclxuXHRcdFx0XHRtb2RhbEJveC5kYXRhc2V0LmluZGV4ID0gY2xpcElkXHJcblx0XHRcdFx0bW9kYWxUaXRsZS50ZXh0Q29udGVudCA9IGNsaXBOYW1lXHJcblx0XHRcdFx0aWZyYW1lQm94LnNldEF0dHJpYnV0ZSgnc3JjJywgdmlkZW8pXHJcblx0XHRcdFx0ZGVjaXNpb25JbWdCb3guc2V0QXR0cmlidXRlKCdzcmMnLCBkZWNpc2lvbkltZylcclxuXHRcdFx0XHRkZWNpc2lvbkltZ0JveC5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGBEZWN5emphIGtsaXB1ICR7Y2xpcE5hbWV9YClcclxuXHRcdFx0XHRpZiAoZGF0YVN5bWJvbC5oYXNPd25Qcm9wZXJ0eSgndHJhbnNsYXRpb24nKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgdHJhbnNsYXRpb24gPSBkYXRhW2NsaXBJZF0udHJhbnNsYXRpb25cclxuXHRcdFx0XHRcdGRlY2lzaW9uVHJhbnNsYXRpb24udGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbFRlbXBsYXRlKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwdXREYXRhKClcclxuXHJcblx0XHRcdGNvbnN0IGNsb3NlTW9kYWwgPSBwYXJlbnQgPT4ge1xyXG5cdFx0XHRcdG1vZGFsQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcblx0XHRcdFx0Ym9keS5jbGFzc0xpc3QucmVtb3ZlKCdib2R5LWxvY2snKVxyXG5cdFx0XHRcdHdoaWxlIChwYXJlbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRcdFx0cGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudC5maXJzdENoaWxkKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgbmV4dENsaXAgPSBlID0+IHtcclxuXHRcdFx0XHRjb25zdCBtb2RhbEJveCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbF9fYm94JyksXHJcblx0XHRcdFx0XHRpZnJhbWUgPSBtb2RhbEJveC5xdWVyeVNlbGVjdG9yKCcuaWZyYW1lJyksXHJcblx0XHRcdFx0XHRkZWNpc2lvbkltZyA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbi1pbWcnKSxcclxuXHRcdFx0XHRcdGRlY2lzaW9uVHJhbnNsYXRpb24gPSBtb2RhbEJveC5xdWVyeVNlbGVjdG9yKCcuZGVjaXNpb24tdHJhbnNsYXRpb24nKSxcclxuXHRcdFx0XHRcdHRpdGxlID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmNsaXAtdGl0bGUnKVxyXG5cclxuXHRcdFx0XHRsZXQgY2xpcEluZGV4ID0gcGFyc2VJbnQobW9kYWxCb3guZGF0YXNldC5pbmRleClcclxuXHJcblx0XHRcdFx0Y29uc3QgbmV4dERhdGEgPSBkYXRhW2NsaXBJbmRleCArIDFdXHJcblxyXG5cdFx0XHRcdGlmIChjbGlwSW5kZXggPT09IGFyckxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdG1vZGFsQm94LmRhdGFzZXQuaW5kZXggPSBjbGlwSW5kZXhcclxuXHRcdFx0XHRcdGNvbnN0IG5leHRCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ0bicpXHJcblx0XHRcdFx0XHRuZXh0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIG5leHREYXRhLnZpZGVvKVxyXG5cdFx0XHRcdFx0ZGVjaXNpb25JbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBuZXh0RGF0YS5kZWNpc2lvbilcclxuXHRcdFx0XHRcdGlmIChkYXRhU3ltYm9sLmhhc093blByb3BlcnR5KCd0cmFuc2xhdGlvbicpKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRyYW5zbGF0aW9uID0gbmV4dERhdGEudHJhbnNsYXRpb25cclxuXHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi50ZXh0Q29udGVudCA9IHRyYW5zbGF0aW9uXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsZXQgbmV3SW5kZXggPSBjbGlwSW5kZXggKyAxXHJcblx0XHRcdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGAke2JvZHlTeW1ib2x9JHtuZXdJbmRleCArIDF9YFxyXG5cdFx0XHRcdFx0bW9kYWxCb3guZGF0YXNldC5pbmRleCA9IG5ld0luZGV4XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBwcmV2aW91c0NsaXAgPSBlID0+IHtcclxuXHRcdFx0XHRjb25zdCBtb2RhbEJveCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbF9fYm94JyksXHJcblx0XHRcdFx0XHRpZnJhbWUgPSBtb2RhbEJveC5xdWVyeVNlbGVjdG9yKCcuaWZyYW1lJyksXHJcblx0XHRcdFx0XHRkZWNpc2lvbkltZyA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbi1pbWcnKSxcclxuXHRcdFx0XHRcdGRlY2lzaW9uVHJhbnNsYXRpb24gPSBtb2RhbEJveC5xdWVyeVNlbGVjdG9yKCcuZGVjaXNpb24tdHJhbnNsYXRpb24nKSxcclxuXHRcdFx0XHRcdHRpdGxlID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmNsaXAtdGl0bGUnKVxyXG5cclxuXHRcdFx0XHRsZXQgY2xpcEluZGV4ID0gcGFyc2VJbnQobW9kYWxCb3guZGF0YXNldC5pbmRleClcclxuXHJcblx0XHRcdFx0Y29uc3QgcHJldkRhdGEgPSBkYXRhW2NsaXBJbmRleCAtIDFdXHJcblxyXG5cdFx0XHRcdGlmIChjbGlwSW5kZXggPT09IDApIHtcclxuXHRcdFx0XHRcdGNvbnN0IHByZXZpb3VzQnRuID0gZS50YXJnZXQuY2xvc2VzdCgnLm1vZGFsX19ib3gnKS5xdWVyeVNlbGVjdG9yKCcucHJldmlvdXMtYnRuJylcclxuXHRcdFx0XHRcdHByZXZpb3VzQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByZXZEYXRhLnZpZGVvKVxyXG5cdFx0XHRcdFx0ZGVjaXNpb25JbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBwcmV2RGF0YS5kZWNpc2lvbilcclxuXHRcdFx0XHRcdGlmIChkYXRhU3ltYm9sLmhhc093blByb3BlcnR5KCd0cmFuc2xhdGlvbicpKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRyYW5zbGF0aW9uID0gcHJldkRhdGEudHJhbnNsYXRpb25cclxuXHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi50ZXh0Q29udGVudCA9IHRyYW5zbGF0aW9uXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRsZXQgbmV3SW5kZXggPSBjbGlwSW5kZXggLSAxXHJcblx0XHRcdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGAke2JvZHlTeW1ib2x9JHtjbGlwSW5kZXh9YFxyXG5cdFx0XHRcdFx0bW9kYWxCb3guZGF0YXNldC5pbmRleCA9IG5ld0luZGV4XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB0b2dnbGVWaXNpYmlsaXR5ID0gaXRlbSA9PiB7XHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkZWNpc2lvbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHR0b2dnbGVWaXNpYmlsaXR5KGRlY2lzaW9uQm94KVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0Y2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Y2xvc2VNb2RhbChtb2RhbENvbnRhaW5lcilcclxuXHRcdFx0fSlcclxuXHRcdFx0bW9kYWxDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09ICdtb2RhbF9fY29udGFpbmVyIG1vZGFsLWNvbnRhaW5lcicgfHwgZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09ICdtb2RhbCcpIHtcclxuXHRcdFx0XHRcdGNsb3NlTW9kYWwobW9kYWxDb250YWluZXIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGFsSW5kZXggPSBwYXJzZUludChlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLmRhdGFzZXQuaW5kZXgpXHJcblx0XHRcdFx0aWYgKG1vZGFsSW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0XHRjb25zdCBwcmV2aW91c0J0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbF9fYm94JykucXVlcnlTZWxlY3RvcignLnByZXZpb3VzLWJ0bicpXHJcblx0XHRcdFx0XHRwcmV2aW91c0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAobW9kYWxJbmRleCA8IGFyckxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdG5leHRDbGlwKGUpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5leHRCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRwcmV2aW91c0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGFsSW5kZXggPSBwYXJzZUludChlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLmRhdGFzZXQuaW5kZXgpXHJcblx0XHRcdFx0aWYgKG1vZGFsSW5kZXggPT09IGFyckxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdGNvbnN0IG5leHRCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ0bicpXHJcblx0XHRcdFx0XHRuZXh0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAobW9kYWxJbmRleCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0cHJldmlvdXNCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cHJldmlvdXNDbGlwKGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cclxuXHRcdGNsaXBzLmZvckVhY2goY2xpcCA9PiBjbGlwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd01vZGFsKSlcclxuXHR9KVxyXG5cdC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG5cclxuYWNjb3JkaW9uQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWNjb3JkaW9uSXRlbXMpKVxyXG5idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpXHJcbmJ1cmdlck5hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTmF2T3V0c2lkZUJveClcclxuIl19
