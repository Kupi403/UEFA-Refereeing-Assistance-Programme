"use strict";var clipTemplateTag=document.querySelector(".clip-template"),galleryContainer=document.querySelector(".gallery__container"),modalTemplateTag=document.querySelector(".modal-template"),modalContainer=document.querySelector(".modal-container"),accordionBtns=document.querySelectorAll(".menu__item--expandable"),accordionInfos=document.querySelectorAll(".accordion__info"),burgerNav=document.querySelector(".nav__burger-nav"),burgerBtn=document.querySelector(".burger-btn"),firstBar=document.querySelector(".burger-btn__bar--one"),secondBar=document.querySelector(".burger-btn__bar--two"),thirdBar=document.querySelector(".burger-btn__bar--three"),loaderBox=document.querySelector(".loader-box"),pageTitle=document.querySelector(".page-title"),body=document.body,URL="https://klajek-10-api.herokuapp.com/clips",handleNav=function(){var t=document.querySelector(".nav__burger-nav");accordionInfos.forEach(function(t){t.classList.remove("active"),t.previousElementSibling.querySelector("svg").classList.remove("rotate")}),t.classList.toggle("active-menu"),document.body.classList.toggle("body-lock"),firstBar.classList.toggle("first-cross"),thirdBar.classList.toggle("third-cross"),secondBar.classList.toggle("second-cross")},closeNavOutsideBox=function(t){t.stopPropagation(),t.target.classList.contains("active-menu")&&(burgerNav.classList.remove("active-menu"),document.body.classList.remove("body-lock"),firstBar.classList.remove("first-cross"),thirdBar.classList.remove("third-cross"),secondBar.classList.remove("second-cross"))};function openAccordionItems(){this.nextElementSibling.classList.toggle("active"),this.querySelector("svg").classList.toggle("rotate")}axios.get(URL).then(function(t){function e(t){modalContainer.classList.remove("hidden"),body.classList.add("body-lock");var e,n,o,a=modalTemplateTag.content.cloneNode(!0),r=a.querySelector(".close"),i=a.querySelector(".decision"),s=a.querySelector(".help-svg"),c=a.querySelector(".dictionary"),l=a.querySelector(".clip-title"),d=a.querySelector(".iframe"),u=a.querySelector(".decision-box"),y=a.querySelector(".decision-img"),p=a.querySelector(".next-btn"),m=a.querySelector(".previous-btn"),b=a.querySelector(".modal__box"),g=a.querySelector(".decision-translation"),v=a.querySelector(".additional-img");for(e in _||(s.style.display="none"),_){var x=document.createElement("p");x.innerHTML="<span>".concat(e,"</span> - ").concat(_[e]),c.append(x)}function h(t){for(modalContainer.classList.add("hidden"),body.classList.remove("body-lock");t.firstChild;)t.removeChild(t.firstChild)}s.addEventListener("click",function(){c.classList.toggle("none")}),s=parseInt(t.target.dataset.index),t=q[s].video,n=q[s].decision,o="".concat(S).concat(s+1),b.dataset.index=s,l.textContent=o,d.setAttribute("src",t),y.setAttribute("src",n),y.setAttribute("alt","Decyzja klipu ".concat(o)),L.hasOwnProperty("translation")?(t=q[s].translation,g.style.display="block",g.textContent=t):g.style.display="none",q[s].hasOwnProperty("additional-explanation")&&(n=q[s].explanation,t=q[s].translation,g.style.display="block",v.setAttribute("src",n),v.setAttribute("alt","Wyjaśnienie klipu ".concat(o)),g.textContent=t),modalContainer.appendChild(a),i.addEventListener("click",function(){u.classList.toggle("hidden")}),r.addEventListener("click",function(){h(modalContainer)}),modalContainer.addEventListener("click",function(t){"modal__container modal-container"!=t.target.classList.value&&"modal"!=t.target.classList.value||h(modalContainer)}),p.addEventListener("click",function(t){var e,n,o,a,r,i,s,c,l,d=parseInt(t.target.closest(".modal__box").dataset.index);-1!==d&&t.target.closest(".modal__box").querySelector(".previous-btn").classList.remove("hidden"),d<f-1?(t=(d=t).target.closest(".modal__box"),e=t.querySelector(".clip-title"),n=t.querySelector(".iframe"),o=t.querySelector(".decision-img"),a=t.querySelector(".decision-translation"),r=t.querySelector(".additional-img"),i=parseInt(t.dataset.index),s=q[i+1],c=i+1,l="".concat(S).concat(c+1),e.textContent=l,t.dataset.index=c,i===f-1?(t.dataset.index=i,d.target.closest(".modal__box").querySelector(".next-btn").classList.add("hidden")):(n.setAttribute("src",s.video),o.setAttribute("src",s.decision),o.setAttribute("alt","Decyzja klipu ".concat(l)),L.hasOwnProperty("translation")&&(e=s.translation,a.textContent=e),s.hasOwnProperty("additional-explanation")&&!L.hasOwnProperty("translation")?s.hasOwnProperty("additional-explanation")&&(c=s.explanation,t=s.translation,r.setAttribute("src",c),r.setAttribute("alt","Wyjaśnienie klipu ".concat(l)),a.style.display="block",a.textContent=t):s.hasOwnProperty("additional-explanation")||L.hasOwnProperty("translation")||(r.setAttribute("src",""),r.setAttribute("alt",""),a.textContent="",a.style.display="none"))):p.classList.add("hidden")}),m.addEventListener("click",function(t){var e,n,o,a,r,i,s,c,l=parseInt(t.target.closest(".modal__box").dataset.index);l===f-1&&t.target.closest(".modal__box").querySelector(".next-btn").classList.remove("hidden"),0===l?m.classList.add("hidden"):(t=(l=t).target.closest(".modal__box"),e=t.querySelector(".iframe"),n=t.querySelector(".decision-img"),o=t.querySelector(".decision-translation"),a=t.querySelector(".additional-img"),r=t.querySelector(".clip-title"),i=parseInt(t.dataset.index),s=i-1,c="".concat(S).concat(i),r.textContent=c,t.dataset.index=s,r=q[i-1],0===i?l.target.closest(".modal__box").querySelector(".previous-btn").classList.add("hidden"):(e.setAttribute("src",r.video),n.setAttribute("src",r.decision),n.setAttribute("alt","Decyzja klipu ".concat(c)),L.hasOwnProperty("translation")&&(o.style.display="block",t=r.translation,o.textContent=t),r.hasOwnProperty("additional-explanation")&&!L.hasOwnProperty("translation")?r.hasOwnProperty("additional-explanation")&&(s=r.explanation,i=r.translation,a.setAttribute("src",s),a.setAttribute("alt","Wyjaśnienie klipu ".concat(c)),o.style.display="block",o.textContent=i):r.hasOwnProperty("additional-explanation")||L.hasOwnProperty("translation")||(a.setAttribute("src",""),a.setAttribute("alt",""),o.textContent="",o.style.display="none")))})}var S=body.dataset.symbol,q=t.data[S].content,L=t.data[S],f=q.length,_=t.data.dictionary[S],t=(pageTitle.textContent=t.data[S].category,document.title="UEFA RAP - "+t.data[S].category,q.forEach(function(t){var e=clipTemplateTag.content.cloneNode(!0),n=e.querySelector(".clip-item"),o=e.querySelector(".clip-number-span"),a=e.querySelector(".thumbnail"),r=t.id,t=t.thumbnail,i="".concat(S).concat(r+1);n.dataset.index=r,o.textContent=i,a.setAttribute("src",t),a.setAttribute("alt","Klip nr ".concat(i)),galleryContainer.appendChild(e)}),""!=galleryContainer.innerHTML&&(loaderBox.style.display="none"),document.querySelectorAll(".clip-item"));t.forEach(function(t){return t.addEventListener("click",e)})}).catch(function(t){return console.error(t)}),accordionBtns.forEach(function(t){return t.addEventListener("click",openAccordionItems)}),burgerBtn.addEventListener("click",handleNav),burgerNav.addEventListener("click",closeNavOutsideBox);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaXBzLmpzIl0sIm5hbWVzIjpbImNsaXBUZW1wbGF0ZVRhZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdhbGxlcnlDb250YWluZXIiLCJtb2RhbFRlbXBsYXRlVGFnIiwibW9kYWxDb250YWluZXIiLCJhY2NvcmRpb25CdG5zIiwiYWNjb3JkaW9uSW5mb3MiLCJidXJnZXJOYXYiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnVyZ2VyQnRuIiwiZmlyc3RCYXIiLCJzZWNvbmRCYXIiLCJ0aGlyZEJhciIsImxvYWRlckJveCIsInBhZ2VUaXRsZSIsImJvZHkiLCJoYW5kbGVOYXYiLCJmb3JFYWNoIiwiZWwiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGUiLCJjbG9zZU5hdk91dHNpZGVCb3giLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJvcGVuQWNjb3JkaW9uSXRlbXMiLCJ0aGlzIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiYXhpb3MiLCJnZXQiLCJVUkwiLCJ0aGVuIiwicmVzIiwiZGVjaXNpb25CdG4iLCJtb2RhbFRlbXBsYXRlIiwiZGljdGlvbmFyeSIsImFkZCIsIml0ZW0iLCJkZWNpc2lvbkltZ0JveCIsImNsaXBOYW1lIiwiaWZyYW1lQm94IiwiY2xvbmVOb2RlIiwiY2xvc2VCdG4iLCJkZWNpc2lvbkJveCIsImhlbHBCdG4iLCJuZXh0QnRuIiwicHJldmlvdXNCdG4iLCJtb2RhbFRpdGxlIiwiZGVjaXNpb25UcmFuc2xhdGlvbiIsImFkZGl0aW9uYWxFeHBsYW5hdGlvbkltZyIsImRpY3Rpb25hcnlUcmFuc2xhdGlvbnMiLCJzdHlsZSIsIm1vZGFsQm94IiwiYWRkVHJhbnNsYXRpb24iLCJpbm5lckhUTUwiLCJkaXNwbGF5IiwiY3JlYXRlRWxlbWVudCIsInAiLCJjb25jYXQiLCJ0b2dnbGVEaWN0aW9uYXJ5IiwicmVtb3ZlQ2hpbGQiLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwibmV4dENsaXAiLCJwdXREYXRhIiwiY2xpcElkIiwicGFyc2VJbnQiLCJzZXRBdHRyaWJ1dGUiLCJ2aWRlbyIsImluZGV4IiwiZGVjaXNpb24iLCJib2R5U3ltYm9sIiwidHJhbnNsYXRpb24iLCJkYXRhIiwidGV4dENvbnRlbnQiLCJkZWNpc2lvbkltZyIsImRhdGFTeW1ib2wiLCJoYXNPd25Qcm9wZXJ0eSIsImV4cGxhbmF0aW9uIiwiYWRkaXRpb25hbFRyYW5zbGF0ZSIsImFwcGVuZENoaWxkIiwiYWRkaXRpb25hbEltZyIsImNsb3NlTW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwibW9kYWxJbmRleCIsInZhbHVlIiwidGl0bGUiLCJpZnJhbWUiLCJjbGlwSW5kZXgiLCJuZXdJbmRleCIsImNsaXBUaXRsZSIsImFyckxlbmd0aCIsImNsb3Nlc3QiLCJkYXRhc2V0IiwibmV4dERhdGEiLCJwcmV2aW91c0NsaXAiLCJwcmV2RGF0YSIsInRvZ2dsZVZpc2liaWxpdHkiLCJzeW1ib2wiLCJjb250ZW50IiwibGVuZ3RoIiwiY2F0ZWdvcnkiLCJjbGlwVGVtcGxhdGUiLCJjbGlwVGh1bWJuYWlsIiwiaWQiLCJjbGlwSXRlbSIsInRodW1ibmFpbCIsImNsaXBOdW1iZXJTcGFuIiwiY3JlYXRlVGh1bWJuYWlsIiwic2hvd01vZGFsIiwiY2xpcHMiLCJjbGlwIiwiZXJyb3IiLCJlcnIiLCJidG4iXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGdCQUFrQkMsU0FBU0MsY0FBYyxrQkFDOUNDLGlCQUFtQkYsU0FBU0MsY0FBYyx1QkFEM0NFLGlCQUFxQkgsU0FBR0EsY0FBU0MsbUJBQWpDRyxlQUNDRixTQUFtQkYsY0FBU0Msb0JBRDdCSSxjQUVDRixTQUFtQkgsaUJBQVNDLDJCQUY3QkssZUFHZU4sU0FBR0EsaUJBQXVCLG9CQUh6Q08sVUFJQ0YsU0FBZ0JMLGNBQVNRLG9CQUoxQkMsVUFLQ0gsU0FBaUJOLGNBQVNRLGVBTDNCRSxTQU1DSCxTQUFZUCxjQUFTQyx5QkFOdEJVLFVBT1VYLFNBQUdBLGNBQVNDLHlCQVB0QlcsU0FRU1osU0FB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LEtBSVQsSUFBWk8saUJBQVl2RCxZQUpqQjNDLFVBS0FULE1BQWVlLFFBQVVDLFFBSWhCcEIsU0FBR29DLGlCQUFjbkMsZUEwTmxCK0csRUFBQS9GLFFBQVcsU0FBQWdHLEdBQUNDLE9BQU1DLEVBQWxCOUIsaUJBQUEsUUFBQTBCLE9BelFYLE1BMlFBMUcsU0FBQUEsR0FBQUEsT0FBY1ksUUFBUWlHLE1BQUFDLEtBQUc5RyxjQUF6QlksUUFBQSxTQUFBbUcsR0FBQSxPQUFBQSxFQUFBL0IsaUJBQUEsUUFBQTFELHNCQUNBbEIsVUFBVTRFLGlCQUFpQixRQUFTckUsV0FDcENULFVBQVU4RSxpQkFBaUIsUUFBUy9EIiwiZmlsZSI6ImNsaXBzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNsaXBUZW1wbGF0ZVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbGlwLXRlbXBsYXRlJyksXHJcblx0Z2FsbGVyeUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19jb250YWluZXInKSxcclxuXHRtb2RhbFRlbXBsYXRlVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXRlbXBsYXRlJyksXHJcblx0bW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY29udGFpbmVyJyksXHJcblx0YWNjb3JkaW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51X19pdGVtLS1leHBhbmRhYmxlJyksXHJcblx0YWNjb3JkaW9uSW5mb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjb3JkaW9uX19pbmZvJyksXHJcblx0YnVyZ2VyTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fYnVyZ2VyLW5hdicpLFxyXG5cdGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJyksXHJcblx0Zmlyc3RCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bl9fYmFyLS1vbmUnKSxcclxuXHRzZWNvbmRCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bl9fYmFyLS10d28nKSxcclxuXHR0aGlyZEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuX19iYXItLXRocmVlJyksXHJcblx0bG9hZGVyQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlci1ib3gnKSxcclxuXHRwYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS10aXRsZScpLFxyXG5cdGJvZHkgPSBkb2N1bWVudC5ib2R5XHJcblxyXG5jb25zdCBVUkwgPSBgaHR0cHM6Ly9rbGFqZWstMTAtYXBpLmhlcm9rdWFwcC5jb20vY2xpcHNgXHJcblxyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcblx0Y29uc3QgYnVyZ2VyTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdl9fYnVyZ2VyLW5hdicpXHJcblx0YWNjb3JkaW9uSW5mb3MuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0ZWwucHJldmlvdXNFbGVtZW50U2libGluZy5xdWVyeVNlbGVjdG9yKCdzdmcnKS5jbGFzc0xpc3QucmVtb3ZlKCdyb3RhdGUnKVxyXG5cdH0pXHJcblx0YnVyZ2VyTmF2LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZS1tZW51JylcclxuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2JvZHktbG9jaycpXHJcblx0Zmlyc3RCYXIuY2xhc3NMaXN0LnRvZ2dsZSgnZmlyc3QtY3Jvc3MnKVxyXG5cdHRoaXJkQmFyLmNsYXNzTGlzdC50b2dnbGUoJ3RoaXJkLWNyb3NzJylcclxuXHRzZWNvbmRCYXIuY2xhc3NMaXN0LnRvZ2dsZSgnc2Vjb25kLWNyb3NzJylcclxufVxyXG5cclxuY29uc3QgY2xvc2VOYXZPdXRzaWRlQm94ID0gZSA9PiB7XHJcblx0ZS5zdG9wUHJvcGFnYXRpb24oKVxyXG5cdGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZS1tZW51JykpIHtcclxuXHRcdGJ1cmdlck5hdi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtbWVudScpXHJcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvZHktbG9jaycpXHJcblx0XHRmaXJzdEJhci5jbGFzc0xpc3QucmVtb3ZlKCdmaXJzdC1jcm9zcycpXHJcblx0XHR0aGlyZEJhci5jbGFzc0xpc3QucmVtb3ZlKCd0aGlyZC1jcm9zcycpXHJcblx0XHRzZWNvbmRCYXIuY2xhc3NMaXN0LnJlbW92ZSgnc2Vjb25kLWNyb3NzJylcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5BY2NvcmRpb25JdGVtcygpIHtcclxuXHR0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG5cdHRoaXMucXVlcnlTZWxlY3Rvcignc3ZnJykuY2xhc3NMaXN0LnRvZ2dsZSgncm90YXRlJylcclxufVxyXG5heGlvc1xyXG5cdC5nZXQoVVJMKVxyXG5cdC50aGVuKHJlcyA9PiB7XHJcblx0XHRjb25zdCBib2R5U3ltYm9sID0gYm9keS5kYXRhc2V0LnN5bWJvbFxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSByZXMuZGF0YVtib2R5U3ltYm9sXS5jb250ZW50XHJcblx0XHRjb25zdCBkYXRhU3ltYm9sID0gcmVzLmRhdGFbYm9keVN5bWJvbF1cclxuXHRcdGNvbnN0IGFyckxlbmd0aCA9IGRhdGEubGVuZ3RoXHJcblxyXG5cdFx0Y29uc3QgZGljdGlvbmFyeVRyYW5zbGF0aW9ucyA9IHJlcy5kYXRhLmRpY3Rpb25hcnlbYm9keVN5bWJvbF1cclxuXHJcblx0XHRcclxuXHJcblx0XHRwYWdlVGl0bGUudGV4dENvbnRlbnQgPSByZXMuZGF0YVtib2R5U3ltYm9sXS5jYXRlZ29yeVxyXG5cdFx0ZG9jdW1lbnQudGl0bGUgPSAnVUVGQSBSQVAgLSAnICsgcmVzLmRhdGFbYm9keVN5bWJvbF0uY2F0ZWdvcnlcclxuXHJcblx0XHRjb25zdCBjcmVhdGVUaHVtYm5haWwgPSAoKSA9PiB7XHJcblx0XHRcdGRhdGEuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2xpcFRlbXBsYXRlID0gY2xpcFRlbXBsYXRlVGFnLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpLFxyXG5cdFx0XHRcdFx0Y2xpcEl0ZW0gPSBjbGlwVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsaXAtaXRlbScpLFxyXG5cdFx0XHRcdFx0Y2xpcE51bWJlclNwYW4gPSBjbGlwVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsaXAtbnVtYmVyLXNwYW4nKSxcclxuXHRcdFx0XHRcdGNsaXBUaHVtYm5haWwgPSBjbGlwVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLnRodW1ibmFpbCcpXHJcblxyXG5cdFx0XHRcdGNvbnN0IGlkID0gZWwuaWRcclxuXHRcdFx0XHRjb25zdCB0aHVtYm5haWwgPSBlbC50aHVtYm5haWxcclxuXHRcdFx0XHRjb25zdCBjbGlwTmFtZSA9IGAke2JvZHlTeW1ib2x9JHtpZCArIDF9YFxyXG5cclxuXHRcdFx0XHRjbGlwSXRlbS5kYXRhc2V0LmluZGV4ID0gaWRcclxuXHRcdFx0XHRjbGlwTnVtYmVyU3Bhbi50ZXh0Q29udGVudCA9IGNsaXBOYW1lXHJcblx0XHRcdFx0Y2xpcFRodW1ibmFpbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRodW1ibmFpbClcclxuXHRcdFx0XHRjbGlwVGh1bWJuYWlsLnNldEF0dHJpYnV0ZSgnYWx0JywgYEtsaXAgbnIgJHtjbGlwTmFtZX1gKVxyXG5cclxuXHRcdFx0XHRnYWxsZXJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNsaXBUZW1wbGF0ZSlcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHRjcmVhdGVUaHVtYm5haWwoKVxyXG5cdFx0aWYgKGdhbGxlcnlDb250YWluZXIuaW5uZXJIVE1MICE9ICcnKSB7XHJcblx0XHRcdGxvYWRlckJveC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgY2xpcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xpcC1pdGVtJylcclxuXHRcdGNvbnN0IHNob3dNb2RhbCA9IGUgPT4ge1xyXG5cdFx0XHRtb2RhbENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG5cdFx0XHRib2R5LmNsYXNzTGlzdC5hZGQoJ2JvZHktbG9jaycpXHJcblxyXG5cdFx0XHRjb25zdCBtb2RhbFRlbXBsYXRlID0gbW9kYWxUZW1wbGF0ZVRhZy5jb250ZW50LmNsb25lTm9kZSh0cnVlKSxcclxuXHRcdFx0XHRjbG9zZUJ0biA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsb3NlJyksXHJcblx0XHRcdFx0ZGVjaXNpb25CdG4gPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbicpLFxyXG5cdFx0XHRcdGhlbHBCdG4gPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5oZWxwLXN2ZycpLFxyXG5cdFx0XHRcdGRpY3Rpb25hcnkgPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5kaWN0aW9uYXJ5JyksXHJcblx0XHRcdFx0bW9kYWxUaXRsZSA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmNsaXAtdGl0bGUnKSxcclxuXHRcdFx0XHRpZnJhbWVCb3ggPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5pZnJhbWUnKSxcclxuXHRcdFx0XHRkZWNpc2lvbkJveCA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmRlY2lzaW9uLWJveCcpLFxyXG5cdFx0XHRcdGRlY2lzaW9uSW1nQm94ID0gbW9kYWxUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZGVjaXNpb24taW1nJyksXHJcblx0XHRcdFx0bmV4dEJ0biA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLm5leHQtYnRuJyksXHJcblx0XHRcdFx0cHJldmlvdXNCdG4gPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5wcmV2aW91cy1idG4nKSxcclxuXHRcdFx0XHRtb2RhbEJveCA9IG1vZGFsVGVtcGxhdGUucXVlcnlTZWxlY3RvcignLm1vZGFsX19ib3gnKSxcclxuXHRcdFx0XHRkZWNpc2lvblRyYW5zbGF0aW9uID0gbW9kYWxUZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZGVjaXNpb24tdHJhbnNsYXRpb24nKSxcclxuXHRcdFx0XHRhZGRpdGlvbmFsRXhwbGFuYXRpb25JbWcgPSBtb2RhbFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5hZGRpdGlvbmFsLWltZycpXHJcblxyXG5cdFx0XHRcdGlmKCFkaWN0aW9uYXJ5VHJhbnNsYXRpb25zKXtcclxuXHRcdFx0XHRcdGhlbHBCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgYWRkVHJhbnNsYXRpb24gPSAoKSA9PiB7XHJcblx0XHRcdFx0Zm9yIChjb25zdCBpdGVtIGluIGRpY3Rpb25hcnlUcmFuc2xhdGlvbnMpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJylcclxuXHRcdFx0XHRcdHAuaW5uZXJIVE1MID0gYDxzcGFuPiR7aXRlbX08L3NwYW4+IC0gJHtkaWN0aW9uYXJ5VHJhbnNsYXRpb25zW2l0ZW1dfWBcclxuXHRcdFx0XHRcdGRpY3Rpb25hcnkuYXBwZW5kKHApXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRhZGRUcmFuc2xhdGlvbigpXHJcblxyXG5cdFx0XHRjb25zdCB0b2dnbGVEaWN0aW9uYXJ5ID0gKCkgPT4ge1xyXG5cdFx0XHRcdGRpY3Rpb25hcnkuY2xhc3NMaXN0LnRvZ2dsZSgnbm9uZScpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGhlbHBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVEaWN0aW9uYXJ5KVxyXG5cclxuXHRcdFx0Y29uc3QgcHV0RGF0YSA9ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjbGlwSWQgPSBwYXJzZUludChlLnRhcmdldC5kYXRhc2V0LmluZGV4KVxyXG5cdFx0XHRcdGNvbnN0IHZpZGVvID0gZGF0YVtjbGlwSWRdLnZpZGVvXHJcblx0XHRcdFx0Y29uc3QgZGVjaXNpb25JbWcgPSBkYXRhW2NsaXBJZF0uZGVjaXNpb25cclxuXHRcdFx0XHRjb25zdCBjbGlwTmFtZSA9IGAke2JvZHlTeW1ib2x9JHtjbGlwSWQgKyAxfWBcclxuXHJcblx0XHRcdFx0bW9kYWxCb3guZGF0YXNldC5pbmRleCA9IGNsaXBJZFxyXG5cdFx0XHRcdG1vZGFsVGl0bGUudGV4dENvbnRlbnQgPSBjbGlwTmFtZVxyXG5cdFx0XHRcdGlmcmFtZUJveC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHZpZGVvKVxyXG5cdFx0XHRcdGRlY2lzaW9uSW1nQm94LnNldEF0dHJpYnV0ZSgnc3JjJywgZGVjaXNpb25JbWcpXHJcblx0XHRcdFx0ZGVjaXNpb25JbWdCb3guc2V0QXR0cmlidXRlKCdhbHQnLCBgRGVjeXpqYSBrbGlwdSAke2NsaXBOYW1lfWApXHJcblx0XHRcdFx0aWYgKGRhdGFTeW1ib2wuaGFzT3duUHJvcGVydHkoJ3RyYW5zbGF0aW9uJykpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHRyYW5zbGF0aW9uID0gZGF0YVtjbGlwSWRdLnRyYW5zbGF0aW9uXHJcblx0XHRcdFx0XHRkZWNpc2lvblRyYW5zbGF0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHRcdFx0XHRkZWNpc2lvblRyYW5zbGF0aW9uLnRleHRDb250ZW50ID0gdHJhbnNsYXRpb25cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChkYXRhW2NsaXBJZF0uaGFzT3duUHJvcGVydHkoJ2FkZGl0aW9uYWwtZXhwbGFuYXRpb24nKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgYWRkaXRpb25hbEltZyA9IGRhdGFbY2xpcElkXS5leHBsYW5hdGlvblxyXG5cdFx0XHRcdFx0Y29uc3QgYWRkaXRpb25hbFRyYW5zbGF0ZSA9IGRhdGFbY2xpcElkXS50cmFuc2xhdGlvblxyXG5cdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0XHRcdFx0YWRkaXRpb25hbEV4cGxhbmF0aW9uSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYWRkaXRpb25hbEltZylcclxuXHRcdFx0XHRcdGFkZGl0aW9uYWxFeHBsYW5hdGlvbkltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGBXeWphxZtuaWVuaWUga2xpcHUgJHtjbGlwTmFtZX1gKVxyXG5cdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi50ZXh0Q29udGVudCA9IGFkZGl0aW9uYWxUcmFuc2xhdGVcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGFsVGVtcGxhdGUpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHB1dERhdGEoKVxyXG5cclxuXHRcdFx0Y29uc3QgY2xvc2VNb2RhbCA9IHBhcmVudCA9PiB7XHJcblx0XHRcdFx0bW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHRib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2JvZHktbG9jaycpXHJcblx0XHRcdFx0d2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0XHRwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBuZXh0Q2xpcCA9IGUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGFsQm94ID0gZS50YXJnZXQuY2xvc2VzdCgnLm1vZGFsX19ib3gnKSxcclxuXHRcdFx0XHRcdHRpdGxlID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmNsaXAtdGl0bGUnKSxcclxuXHRcdFx0XHRcdGlmcmFtZSA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5pZnJhbWUnKSxcclxuXHRcdFx0XHRcdGRlY2lzaW9uSW1nID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmRlY2lzaW9uLWltZycpLFxyXG5cdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbiA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbi10cmFuc2xhdGlvbicpLFxyXG5cdFx0XHRcdFx0YWRkaXRpb25hbEV4cGxhbmF0aW9uSW1nID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmFkZGl0aW9uYWwtaW1nJylcclxuXHJcblx0XHRcdFx0bGV0IGNsaXBJbmRleCA9IHBhcnNlSW50KG1vZGFsQm94LmRhdGFzZXQuaW5kZXgpXHJcblxyXG5cdFx0XHRcdGNvbnN0IG5leHREYXRhID0gZGF0YVtjbGlwSW5kZXggKyAxXVxyXG5cclxuXHRcdFx0XHRsZXQgbmV3SW5kZXggPSBjbGlwSW5kZXggKyAxXHJcblx0XHRcdFx0Y29uc3QgY2xpcFRpdGxlID0gYCR7Ym9keVN5bWJvbH0ke25ld0luZGV4ICsgMX1gXHJcblx0XHRcdFx0dGl0bGUudGV4dENvbnRlbnQgPSBjbGlwVGl0bGVcclxuXHRcdFx0XHRtb2RhbEJveC5kYXRhc2V0LmluZGV4ID0gbmV3SW5kZXhcclxuXHJcblx0XHRcdFx0aWYgKGNsaXBJbmRleCA9PT0gYXJyTGVuZ3RoIC0gMSkge1xyXG5cdFx0XHRcdFx0bW9kYWxCb3guZGF0YXNldC5pbmRleCA9IGNsaXBJbmRleFxyXG5cdFx0XHRcdFx0Y29uc3QgbmV4dEJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbF9fYm94JykucXVlcnlTZWxlY3RvcignLm5leHQtYnRuJylcclxuXHRcdFx0XHRcdG5leHRCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgbmV4dERhdGEudmlkZW8pXHJcblx0XHRcdFx0XHRkZWNpc2lvbkltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIG5leHREYXRhLmRlY2lzaW9uKVxyXG5cdFx0XHRcdFx0ZGVjaXNpb25JbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgRGVjeXpqYSBrbGlwdSAke2NsaXBUaXRsZX1gKVxyXG5cclxuXHRcdFx0XHRcdGlmIChkYXRhU3ltYm9sLmhhc093blByb3BlcnR5KCd0cmFuc2xhdGlvbicpKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRyYW5zbGF0aW9uID0gbmV4dERhdGEudHJhbnNsYXRpb25cclxuXHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi50ZXh0Q29udGVudCA9IHRyYW5zbGF0aW9uXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKG5leHREYXRhLmhhc093blByb3BlcnR5KCdhZGRpdGlvbmFsLWV4cGxhbmF0aW9uJykgJiYgIWRhdGFTeW1ib2wuaGFzT3duUHJvcGVydHkoJ3RyYW5zbGF0aW9uJykpIHtcclxuXHRcdFx0XHRcdFx0aWYgKG5leHREYXRhLmhhc093blByb3BlcnR5KCdhZGRpdGlvbmFsLWV4cGxhbmF0aW9uJykpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBhZGRpdGlvbmFsSW1nID0gbmV4dERhdGEuZXhwbGFuYXRpb25cclxuXHRcdFx0XHRcdFx0XHRjb25zdCBhZGRpdGlvbmFsVHJhbnNsYXRlID0gbmV4dERhdGEudHJhbnNsYXRpb25cclxuXHRcdFx0XHRcdFx0XHRhZGRpdGlvbmFsRXhwbGFuYXRpb25JbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBhZGRpdGlvbmFsSW1nKVxyXG5cdFx0XHRcdFx0XHRcdGFkZGl0aW9uYWxFeHBsYW5hdGlvbkltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIGBXeWphxZtuaWVuaWUga2xpcHUgJHtjbGlwVGl0bGV9YClcclxuXHRcdFx0XHRcdFx0XHRkZWNpc2lvblRyYW5zbGF0aW9uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXHJcblx0XHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi50ZXh0Q29udGVudCA9IGFkZGl0aW9uYWxUcmFuc2xhdGVcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICghbmV4dERhdGEuaGFzT3duUHJvcGVydHkoJ2FkZGl0aW9uYWwtZXhwbGFuYXRpb24nKSAmJiAhZGF0YVN5bWJvbC5oYXNPd25Qcm9wZXJ0eSgndHJhbnNsYXRpb24nKSkge1xyXG5cdFx0XHRcdFx0XHRhZGRpdGlvbmFsRXhwbGFuYXRpb25JbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnJylcclxuXHRcdFx0XHRcdFx0YWRkaXRpb25hbEV4cGxhbmF0aW9uSW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJycpXHJcblx0XHRcdFx0XHRcdGRlY2lzaW9uVHJhbnNsYXRpb24udGV4dENvbnRlbnQgPSAnJ1xyXG5cdFx0XHRcdFx0XHRkZWNpc2lvblRyYW5zbGF0aW9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IHByZXZpb3VzQ2xpcCA9IGUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGFsQm94ID0gZS50YXJnZXQuY2xvc2VzdCgnLm1vZGFsX19ib3gnKSxcclxuXHRcdFx0XHRcdGlmcmFtZSA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5pZnJhbWUnKSxcclxuXHRcdFx0XHRcdGRlY2lzaW9uSW1nID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmRlY2lzaW9uLWltZycpLFxyXG5cdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbiA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5kZWNpc2lvbi10cmFuc2xhdGlvbicpLFxyXG5cdFx0XHRcdFx0YWRkaXRpb25hbEV4cGxhbmF0aW9uSW1nID0gbW9kYWxCb3gucXVlcnlTZWxlY3RvcignLmFkZGl0aW9uYWwtaW1nJyksXHJcblx0XHRcdFx0XHR0aXRsZSA9IG1vZGFsQm94LnF1ZXJ5U2VsZWN0b3IoJy5jbGlwLXRpdGxlJylcclxuXHJcblx0XHRcdFx0bGV0IGNsaXBJbmRleCA9IHBhcnNlSW50KG1vZGFsQm94LmRhdGFzZXQuaW5kZXgpXHJcblxyXG5cdFx0XHRcdGxldCBuZXdJbmRleCA9IGNsaXBJbmRleCAtIDFcclxuXHRcdFx0XHRjb25zdCBjbGlwVGl0bGUgPSBgJHtib2R5U3ltYm9sfSR7Y2xpcEluZGV4fWBcclxuXHRcdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGNsaXBUaXRsZVxyXG5cdFx0XHRcdG1vZGFsQm94LmRhdGFzZXQuaW5kZXggPSBuZXdJbmRleFxyXG5cclxuXHRcdFx0XHRjb25zdCBwcmV2RGF0YSA9IGRhdGFbY2xpcEluZGV4IC0gMV1cclxuXHJcblx0XHRcdFx0aWYgKGNsaXBJbmRleCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcHJldmlvdXNCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLnF1ZXJ5U2VsZWN0b3IoJy5wcmV2aW91cy1idG4nKVxyXG5cdFx0XHRcdFx0cHJldmlvdXNCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnc3JjJywgcHJldkRhdGEudmlkZW8pXHJcblx0XHRcdFx0XHRkZWNpc2lvbkltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByZXZEYXRhLmRlY2lzaW9uKVxyXG5cdFx0XHRcdFx0ZGVjaXNpb25JbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgRGVjeXpqYSBrbGlwdSAke2NsaXBUaXRsZX1gKVxyXG5cdFx0XHRcdFx0aWYgKGRhdGFTeW1ib2wuaGFzT3duUHJvcGVydHkoJ3RyYW5zbGF0aW9uJykpIHtcclxuXHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0XHRcdFx0XHRjb25zdCB0cmFuc2xhdGlvbiA9IHByZXZEYXRhLnRyYW5zbGF0aW9uXHJcblx0XHRcdFx0XHRcdGRlY2lzaW9uVHJhbnNsYXRpb24udGV4dENvbnRlbnQgPSB0cmFuc2xhdGlvblxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChwcmV2RGF0YS5oYXNPd25Qcm9wZXJ0eSgnYWRkaXRpb25hbC1leHBsYW5hdGlvbicpICYmICFkYXRhU3ltYm9sLmhhc093blByb3BlcnR5KCd0cmFuc2xhdGlvbicpKSB7XHJcblx0XHRcdFx0XHRcdGlmIChwcmV2RGF0YS5oYXNPd25Qcm9wZXJ0eSgnYWRkaXRpb25hbC1leHBsYW5hdGlvbicpKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgYWRkaXRpb25hbEltZyA9IHByZXZEYXRhLmV4cGxhbmF0aW9uXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgYWRkaXRpb25hbFRyYW5zbGF0ZSA9IHByZXZEYXRhLnRyYW5zbGF0aW9uXHJcblx0XHRcdFx0XHRcdFx0YWRkaXRpb25hbEV4cGxhbmF0aW9uSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYWRkaXRpb25hbEltZylcclxuXHRcdFx0XHRcdFx0XHRhZGRpdGlvbmFsRXhwbGFuYXRpb25JbWcuc2V0QXR0cmlidXRlKCdhbHQnLCBgV3lqYcWbbmllbmllIGtsaXB1ICR7Y2xpcFRpdGxlfWApXHJcblx0XHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJ1xyXG5cdFx0XHRcdFx0XHRcdGRlY2lzaW9uVHJhbnNsYXRpb24udGV4dENvbnRlbnQgPSBhZGRpdGlvbmFsVHJhbnNsYXRlXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIXByZXZEYXRhLmhhc093blByb3BlcnR5KCdhZGRpdGlvbmFsLWV4cGxhbmF0aW9uJykgJiYgIWRhdGFTeW1ib2wuaGFzT3duUHJvcGVydHkoJ3RyYW5zbGF0aW9uJykpIHtcclxuXHRcdFx0XHRcdFx0YWRkaXRpb25hbEV4cGxhbmF0aW9uSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgJycpXHJcblx0XHRcdFx0XHRcdGFkZGl0aW9uYWxFeHBsYW5hdGlvbkltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsICcnKVxyXG5cdFx0XHRcdFx0XHRkZWNpc2lvblRyYW5zbGF0aW9uLnRleHRDb250ZW50ID0gJydcclxuXHRcdFx0XHRcdFx0ZGVjaXNpb25UcmFuc2xhdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB0b2dnbGVWaXNpYmlsaXR5ID0gaXRlbSA9PiB7XHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkZWNpc2lvbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHR0b2dnbGVWaXNpYmlsaXR5KGRlY2lzaW9uQm94KVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0Y2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdFx0Y2xvc2VNb2RhbChtb2RhbENvbnRhaW5lcilcclxuXHRcdFx0fSlcclxuXHRcdFx0bW9kYWxDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09ICdtb2RhbF9fY29udGFpbmVyIG1vZGFsLWNvbnRhaW5lcicgfHwgZS50YXJnZXQuY2xhc3NMaXN0LnZhbHVlID09ICdtb2RhbCcpIHtcclxuXHRcdFx0XHRcdGNsb3NlTW9kYWwobW9kYWxDb250YWluZXIpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0bmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGFsSW5kZXggPSBwYXJzZUludChlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLmRhdGFzZXQuaW5kZXgpXHJcblx0XHRcdFx0aWYgKG1vZGFsSW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0XHRjb25zdCBwcmV2aW91c0J0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbF9fYm94JykucXVlcnlTZWxlY3RvcignLnByZXZpb3VzLWJ0bicpXHJcblx0XHRcdFx0XHRwcmV2aW91c0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAobW9kYWxJbmRleCA8IGFyckxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdG5leHRDbGlwKGUpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5leHRCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRwcmV2aW91c0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IG1vZGFsSW5kZXggPSBwYXJzZUludChlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLmRhdGFzZXQuaW5kZXgpXHJcblx0XHRcdFx0aWYgKG1vZGFsSW5kZXggPT09IGFyckxlbmd0aCAtIDEpIHtcclxuXHRcdFx0XHRcdGNvbnN0IG5leHRCdG4gPSBlLnRhcmdldC5jbG9zZXN0KCcubW9kYWxfX2JveCcpLnF1ZXJ5U2VsZWN0b3IoJy5uZXh0LWJ0bicpXHJcblx0XHRcdFx0XHRuZXh0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAobW9kYWxJbmRleCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0cHJldmlvdXNCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cHJldmlvdXNDbGlwKGUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cclxuXHRcdGNsaXBzLmZvckVhY2goY2xpcCA9PiBjbGlwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd01vZGFsKSlcclxuXHR9KVxyXG5cdC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKVxyXG5cclxuYWNjb3JkaW9uQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWNjb3JkaW9uSXRlbXMpKVxyXG5idXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXYpXHJcbmJ1cmdlck5hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTmF2T3V0c2lkZUJveClcclxuIl19
